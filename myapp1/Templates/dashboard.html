
{% block headerinclude %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
<link rel = "stylesheet" href = "https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
<style>
    .button {
      background-color: #4CAF50; /* Green */
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
    }

    .button1 {width: 200px;}
</style>
{% endblock headerinclude %}

{% block footerinclude %}
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src = "https://code.jquery.com/jquery-3.5.1.js"></script>
<!--  <script src ="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script> -->
<script src ="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>             
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
        $(document).ready(function() {
            $('#example').DataTable();
        });
</script>
{% endblock footerinclude %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

   <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>My Website</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

            <link rel="stylesheet" href="{% static 'css/styles.css' %}">
            <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/footers/">
            <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">
            <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/dashboard/">

            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" 
            integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" 
            integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>

            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css">
  
            <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>

            <link rel="stylesheet" type="text/css" href="/DataTables/datatables.css">
 
            <script type="text/javascript" charset="utf8" src="/DataTables/datatables.js"></script>
           
            <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
            <script src="https://code.jquery.com/jquery-3.5.1.js" ></script>
            <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js" ></script>

            <script>
                $(document).ready(function() {
                    $('#example').DataTable();
                } );
            </script>

            <style>
              .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
              }
        
              @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                  font-size: 3.5rem;
                }
              }
            </style>
            
   </head>

   <body>
    {% block content %}
        <!--navbar-->
        <nav class="navbar navbar-expand-lg fixed-top auto-hiding-navbar">
         <div class="container">
           <a class="navbar-brand" href="#">

            {% load static %}
            <img src="{% static 'logo.png' %}"  class="css" width="50" height="50" alt="css">
            BOOKSHELVE
           </a>
           <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
             <span class="navbar-toggler-icon"></span>
           </button>
           <div class="collapse navbar-collapse" id="navbarSupportedContent">
             <ul class="navbar-nav ml-auto">
               <li class="nav-item">
                 <a class="nav-link active" aria-current="page" href="index">Home</a>
               </li>
              

             </ul>
            
           </div>
         </div>
         
       </nav>
          <!--end of navbar-->

          <div class="container-fluid">
            <div class="row">
              <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                  <ul class="nav flex-column">
                    
                    
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                      <h1 class="h2">Dashboard</h1>
                      <div class="btn-toolbar mb-2 mb-md-0">
                        <div class="btn-group me-2">
                        </div>
                      </div>
                    </div>

                    <li class="nav-item">
                      <a class="nav-link" href="dashboardmain">
                        <span data-feather="file"></span>
                        OVERVIEW
                      </a>
                    </li>
                     <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>Saved reports</span>
                    <a class="link-secondary" href="#" aria-label="Add a new report">
                      <span data-feather="plus-circle"></span>
                    </a>
                  </h6>
                    <li class="nav-item">
                      <a class="nav-link" href="dashboard">
                        <span data-feather="file"></span>
                        BOOKS
                      </a>
                    </li>
                    <!-- <li class="nav-item">
                      <a class="nav-link" href="dashboardSales">
                        <span data-feather="shopping-cart"></span>
                        SALES
                      </a>
                    </li> -->
                    <li class="nav-item">
                      <a class="nav-link" href="dashboardCustomer">
                        <span data-feather="users"></span>
                        CUSTOMERS
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="dashboardOrder">
                        <span data-feather="users"></span>
                        ORDERS
                      </a>
                    </li>

                    <li class="nav-item">
                      <a class="nav-link" href="dashboardAdmin">
                        <span data-feather="users"></span>
                        ADMIN
                      </a>
                    </li>
                   
                  </ul>
          
                 
                  
                </div>
              </nav>
          
              <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    
                  <div class="btn-toolbar mb-2 mb-md-0">
                  
                  </div>
                </div>
                <br>
                <br>
                <br>
               
          
                <div class="table-responsive">
                  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    
                    <div class="btn-toolbar mb-2 mb-md-0">
                    
                    </div>
                  </div>
                <form>
                  {% csrf_token %}
                  
                  <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
                    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" style="color:whitesmoke">BOOK DETAILS</a>
                    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                    
                    <div class="navbar-nav">
                      <div class="nav-item text-nowrap">
                        <a class="nav-link px-3" href="registration">ADD BOOK</a>
                      </div>
                    </div>
                  </header>
                    <br>
                  <table id="example" style="width:100%" class="table table-striped table-sm">
                    <thead>
                      <tr>
                        <th scope="col" class="text-center">BOOK ID</th>
                        <th scope="col" class="text-center">TITLE</th>
                        <th scope="col" class="text-center">AUTHOR</th>
                        <th scope="col" class="text-center">CATEGORY</th>
                        <th scope="col" class="text-center">PRICE</th>
                        <th scope="col" class="text-center">Action</th>
                        
                      </tr>
                    </thead>
                    <tbody>
                      {% for b in books %}
                      <tr class="text-center">
                        <td>{{b.id}}</td>
                        <td>{{b.BookTitle}}</td>
                        <td>{{b.Author}}</td>
                        <td>{{b.Category}}</td>
                        <td>{{b.Price}}</td>
                        <td class="text-center">
                          <!-- <a type="button" class="btn btn-primary bg-gradient-primary" href="" ><i class="fas fa-fw fa-th-list"></i>VIEW</a> -->
                          <!-- <a type="button" class="btn btn-danger bg-gradient-danger btn-block" href=""><i class="fas fa-fw fa-edit"></i>DELETE</a>
                          <a type="button" class="btn btn-success bg-gradient-success btn-block" href=""><i class="fas fa-fw fa-edit"></i>UPDATE</a> -->
                          <a type="button" class="btn btn-success" href="#" data-toggle="modal" data-target="#newModal-{{b.id}}">VIEW</a>

                          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal-{{b.id}}">
                            DELETE
                          </button>
                      </td>
                        
                      </tr>

                  <!-- Modal VIEW-->
                  <div class="modal fade" id="newModal-{{b.id}}" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style="background-color:#683aa4">
                          <h5 class="modal-title" style="color:white">BOOK DETAILS</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <form id="updateForm" method="post" >
                        {% csrf_token %}
                        <div class="modal-body">
                           <input type="text" name="id" value = {{b.id}} hidden> 
                          <div class="row">
                            <div class="col-12" id="startup-tab-1">
                              <br>
                                <div class = "row">
                                  <!-- <div class = "col-sm-4">
                                   
                                     <input type="text" class="form-control" id="id-firstname" placeholder="Firstname" name="student-fname" value ={{student.firstname}}> 
                                    <input type="text" class="form-control" id="BookId" placeholder="BookId" name="BookId" value ={{b.BookId}}>
                                  </div> -->
                                  <div class = "col-sm-6">
                                    <input type="text" class="form-control" id="BookTitle" placeholder="BookTitle"  name="BookTitle" value ={{b.BookTitle}}>
                                  </div>
                                  <div class = "col-sm-6">
                                    
                                    <input type="text" class="form-control" id="Author" placeholder="Author"  name="Author" value ={{b.Author}}>
                                  </div>
                                </div>
                                <br>
                                <div class = "row">
                                <div class = "col-sm-6">
                                  <input type="text" class="form-control" id="Category" placeholder="Category"  name="Category" value ={{b.Category}}>
                                </div>
                                <div class = "col-sm-6">
                                  <input type="text" class="form-control" id="Price" placeholder="Price"  name="Price" value ={{b.Price}}>
                                </div>
                              </div>
                             
                            
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">  
                            <button type="submit" id = "btnUpdate" name = "btnUpdate" class="button">UPDATE</button>                                  
                            <button type="button" class="button btn-secondary" data-dismiss="modal">CLOSE</button>                          
                        </div>
                      </div>
                    </form>
                    </div>
                  </div>

                  <!-- Modal DELETE-->
                  <div class="modal fade" id="exampleModal-{{b.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style="background-color:#683aa4">
                          <h5 class="modal-title" id="exampleModalLabel" style="color:white">DELETE RECORD</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <form id="deleteForm" method="post" >
                        {% csrf_token %} 
                        <div class="modal-body">                       
                           <input type="text" name="id" value = {{b.id}} hidden> 
                          Are you sure you want to delete this record?
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">NO</button>
                          <button type="submit" id = "btnDelete" name = "btnDelete" class="btn btn-primary">YES</button>
                        </div>
                      </div>
                    </form>
                    </div>
                  </div>

                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </main>
            </div>
          </div>

         
           {% endblock content %} 
      


   </body>
</html>